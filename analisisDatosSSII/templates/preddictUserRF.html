<!DOCTYPE html>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Predict User</title>
</head>
<body>
<div style="height: 20px;"></div>
    <div class="container" style="text-align: right;">
        <a class="btn btn-primary" id='return' type="button" href="/parte2" style="display: inline-block;">Volver</a>
    </div>
<div style="height: 60px;"></div>
<div class="container" style="height: 68px;">
        <h1 style="text-align: center;font-size: 30px;">Predicción de Usuarios (Random Forest)</h1>
</div>

<div style="height: 20px;"></div>
<div class="container" style="text-align: left;">
<form action="/parte2/prediccion/RF/" method="get">
    <label>Introduce si el usuario tiene contraseña debil:</label>
    <input type="checkbox" id="passCheckbox" name="pass"><br/>
    <label>Introduce si el usuario tiene permisos</label>
    <input type="checkbox" id="permsCheckbox" name="perms"><br/>
    <label>Introduce el número de emails que el usuario ha recibido:</label>
    <input type="number" name="emails"><br/>
    <label>Introduce el número de emails que el usuario ha clicado:</label>
    <input type="number" name="clic"><br/>
    <label>Introduce el número de phishing que el usuario ha sido victima:</label>
    <input type="number" name="phishing"><br/>
    <input type="submit" value="Mostrar" />
</form>
</div>
<div style="height: 30px;"></div>
<div class="container" style="text-align: center;">
    {% if prediccion is defined %}
      <h4>¿Usuario Crítico?</h4>
        {% if prediccion == 1 %}
            <p>Sí es un Usuario Crítico</p>
        {% else %}
            <p>No es un Usuario Crítico</p>
        {% endif %}
    {% endif %}
</div>
<script>
    // Función para convertir los valores de los checkboxes a booleanos
    function verify() {
        var passCheckbox = document.getElementById("passCheckbox").checked;
        var permsCheckbox = document.getElementById("permsCheckbox").checked;

        document.getElementById("passCheckbox").value = passCheckbox ? true : false;
        document.getElementById("permsCheckbox").value = permsCheckbox ? true : false;
    }

    // Manejador del evento 'submit' del formulario
    document.getElementById("predictionForm").addEventListener("submit", function(event) {
        // Convertir los valores de los checkboxes a booleanos antes de enviar el formulario
        verify();
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>